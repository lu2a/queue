<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ุตูุญุฉ ุงูุชุญูู ุจุงูุนูุงุฏุฉ</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&display=swap');
        body { font-family: 'Cairo', sans-serif; }
        .arabic-numbers { font-feature-settings: "liga" 0, "dlig" 0, "tnum" 1; font-variant-numeric: tabular-nums; }
        .control-btn { transition: background-color 0.2s, transform 0.1s; }
        .control-btn:active { transform: scale(0.98); }
    </style>
    <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-database-compat.js"></script>
</head>
<body class="bg-gray-100 min-h-screen p-4 flex items-center justify-center">

    <div id="login-form" class="w-full max-w-md bg-white p-8 rounded-xl shadow-2xl text-center">
        <h2 class="text-3xl font-bold text-indigo-700 mb-6">ุชุณุฌูู ุงูุฏุฎูู ููุชุญูู</h2>
        <div class="space-y-4">
            <select id="clinic-selector" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500">
                <option value="">ุงุฎุชุฑ ุงูุนูุงุฏุฉ</option>
                </select>
            <input type="password" id="clinic-password" placeholder="ุฃุฏุฎู ูููุฉ ุงูุณุฑ ููุนูุงุฏุฉ" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500">
            <button id="login-btn" class="w-full bg-indigo-600 text-white font-bold py-3 rounded-lg hover:bg-indigo-700 transition">ุฏุฎูู</button>
        </div>
    </div>

    <div id="control-panel" class="w-full max-w-4xl bg-white p-8 rounded-xl shadow-2xl hidden">
        
        <header class="flex justify-between items-center mb-6 pb-4 border-b">
            <h1 id="clinic-title" class="text-3xl font-extrabold text-indigo-700">ุนูุงุฏุฉ ุทุจ ุงูุฃุณุฑุฉ</h1>
            <div class="text-center">
                <p class="text-gray-500 text-lg">ุงูุฑูู ุงูุญุงูู:</p>
                <span id="current-number-display" class="arabic-numbers text-6xl font-black text-red-600 leading-none">ูงูง</span>
            </div>
        </header>

        <div class="grid grid-cols-2 md:grid-cols-4 gap-4 mb-8">
            <button id="next-client-btn" class="control-btn bg-green-600 text-white py-4 rounded-xl text-xl font-bold hover:bg-green-700">ุงูุนููู ุงูุชุงูู โก๏ธ</button>
            <button id="repeat-call-btn" class="control-btn bg-yellow-500 text-white py-4 rounded-xl text-xl font-bold hover:bg-yellow-600">ุชูุฑุงุฑ ุงููุฏุงุก ๐</button>
            <button id="stop-clinic-btn" class="control-btn bg-red-600 text-white py-4 rounded-xl text-xl font-bold hover:bg-red-700">ุฅููุงู ุงูุนูุงุฏุฉ ๐</button>
            <button id="reset-clinic-btn" class="control-btn bg-gray-600 text-white py-4 rounded-xl text-xl font-bold hover:bg-gray-700">ุชุตููุฑ ุงูุนูุงุฏุฉ ๐</button>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-3 gap-4 border-t pt-6">
            
            <div class="p-3 bg-indigo-50 rounded-lg">
                <p class="text-indigo-700 font-semibold mb-2">ูุฏุงุก ูุฎุตุต</p>
                <div class="flex space-x-2 rtl:space-x-reverse">
                    <button id="prev-client-btn" class="control-btn bg-purple-500 text-white py-2 px-3 rounded-md text-sm hover:bg-purple-600">ุงูุนููู ุงูุณุงุจู โฌ๏ธ</button>
                    <input type="number" id="specific-number-input" placeholder="ุฑูู ุนููู" class="w-1/3 p-2 border rounded-md text-sm arabic-numbers">
                    <button id="call-specific-btn" class="control-btn bg-indigo-500 text-white py-2 px-3 rounded-md text-sm hover:bg-indigo-600">ูุฏุงุก</button>
                </div>
            </div>

            <div class="p-3 bg-red-50 rounded-lg">
                <p class="text-red-700 font-semibold mb-2">ุฅุฌุฑุงุกุงุช ุณุฑูุนุฉ</p>
                <div class="flex space-x-2 rtl:space-x-reverse">
                    <button id="emergency-call-btn" class="control-btn w-1/2 bg-red-600 text-white py-2 rounded-md text-sm hover:bg-red-700">ุชูุจูู ุทูุงุฑุฆ ๐จ</button>
                    <select id="transfer-clinic-select" class="w-1/2 p-2 border rounded-md text-sm">
                        <option value="">ุชุญููู ุฅูู...</option>
                        </select>
                </div>
            </div>
            
            <div class="p-3 bg-teal-50 rounded-lg">
                <p class="text-teal-700 font-semibold mb-2">ุชูุจููุงุช</p>
                <div class="flex space-x-2 rtl:space-x-reverse">
                    <button id="alert-doctor-btn" class="control-btn w-1/2 bg-teal-600 text-white py-2 rounded-md text-sm hover:bg-teal-700">ุชูุจูู ุทุจูุจ ๐งโโ๏ธ</button>
                    <button id="alert-client-online-btn" class="control-btn w-1/2 bg-yellow-600 text-white py-2 rounded-md text-sm hover:bg-yellow-700">ุชูุจูู ุนููู (ุฃูููุงูู) ๐ฑ</button>
                </div>
            </div>
        </div>

        <button id="logout-btn" class="mt-8 bg-gray-400 text-gray-800 py-2 px-6 rounded-lg hover:bg-gray-500 transition float-left">ุงูุฎุฑูุฌ ูู ุงูุนูุงุฏุฉ</button>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // ... ุชููุฆุฉ Firebase

            // ูุธููุฉ ุงูุชุญูู ูู ูููุฉ ุงูุณุฑ ูุงูุฏุฎูู
            document.getElementById('login-btn').addEventListener('click', () => {
                const clinicId = document.getElementById('clinic-selector').value;
                const password = document.getElementById('clinic-password').value;
                
                // **ููุง ูุชู ุงูุชุญูู ูู ูููุฉ ุงูุณุฑ ูู Firebase Firestore (Clinics Collection)**
                if (clinicId && password === 'correct_password') { // ูุซุงู ุงูุชุฑุงุถู
                    document.getElementById('login-form').classList.add('hidden');
                    document.getElementById('control-panel').classList.remove('hidden');
                    document.getElementById('clinic-title').textContent = document.querySelector(`#clinic-selector option[value="${clinicId}"]`).textContent;
                    // **ุจุฏุก ุงูุงุณุชูุงุน ูู Realtime Database ูุชุญุฏูุซ ุงูุฑูู ุงูุญุงูู**
                } else {
                    alert('ุฎุทุฃ ูู ุงุฎุชูุงุฑ ุงูุนูุงุฏุฉ ุฃู ูููุฉ ุงูุณุฑ.');
                }
            });

            // ูุธููุฉ ุงูุนููู ุงูุชุงูู
            document.getElementById('next-client-btn').addEventListener('click', () => {
                // **ุชุญุฏูุซ currentNumber ูู Realtime Database**
                // **ุชูููุฐ ุงููุฏุงุก ุงูุตูุชู ุนุจุฑ Web Speech API**
            });
            
            // ... ุจุงูู ูุธุงุฆู ุงูุฃุฒุฑุงุฑ (ุชูุฑุงุฑุ ุชุตููุฑุ ุฅููุงูุ ุฅูุฎ)
        });
    </script>
</body>
</html>
